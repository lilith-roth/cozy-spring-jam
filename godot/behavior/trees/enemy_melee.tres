[gd_resource type="BehaviorTree" load_steps=14 format=3 uid="uid://d02e70bd5jm3k"]

[ext_resource type="Script" uid="uid://dvsqkkll2fetj" path="res://behavior/tasks/get_first_in_group.gd" id="1_jmkbe"]
[ext_resource type="Script" uid="uid://dt23gn5jrh2ia" path="res://behavior/tasks/pursue.gd" id="2_llq45"]
[ext_resource type="Script" uid="uid://dml6tegvgr2eh" path="res://behavior/tasks/face_target.gd" id="3_cc0pl"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_wpi3q"]

[sub_resource type="BTRandomWait" id="BTRandomWait_wpi3q"]
min_duration = 0.7
max_duration = 1.5

[sub_resource type="BTSequence" id="BTSequence_m5xp2"]
custom_name = "Idle"
children = [SubResource("BTRandomWait_wpi3q")]

[sub_resource type="BTAction" id="BTAction_2tvr8"]
script = ExtResource("1_jmkbe")
group = &""
output_var = &"target"

[sub_resource type="BTAction" id="BTAction_ak72q"]
script = ExtResource("2_llq45")
target_var = &"target"
speed_var = &"speed"
approach_distance = 100.0

[sub_resource type="BTTimeLimit" id="BTTimeLimit_gayn4"]
time_limit = 2.0
children = [SubResource("BTAction_ak72q")]

[sub_resource type="BTSequence" id="BTSequence_e83ie"]
custom_name = "Pursue player"
children = [SubResource("BTAction_2tvr8"), SubResource("BTTimeLimit_gayn4")]

[sub_resource type="BTAction" id="BTAction_1hoxm"]
script = ExtResource("3_cc0pl")
target_var = &"target"

[sub_resource type="BTSequence" id="BTSequence_jmkbe"]
custom_name = "Melee attack"
children = [SubResource("BTAction_1hoxm")]

[sub_resource type="BTSequence" id="BTSequence_llq45"]
children = [SubResource("BTSequence_m5xp2"), SubResource("BTSequence_e83ie"), SubResource("BTSequence_jmkbe")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_wpi3q")
root_task = SubResource("BTSequence_llq45")
